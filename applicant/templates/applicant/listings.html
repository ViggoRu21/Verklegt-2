{% extends "applicant/base_generic_app.html" %}

{% block title %}
    <title>Job listings</title>
{% endblock %}

{% block header %}
{% endblock %}

{% block content %}

        <h1 id="test" class="title">SalarySleuth</h1>


   <div id="searchbar" class="search_container">
    <form method="GET">
        <input type="text" name="query" placeholder="Search">
        <select name="company">
            <option value="">Company</option>
            {% for company in companies %}
                <option value="{{ company.id }}">{{ company.name }}</option>
            {% endfor %}
        </select>
        <select name="employment_type">
            <option value="">Employment type</option>
            <option value="full_time">Full Time</option>
            <option value="part_time">Part Time</option>
            <option value="summer_job">Summer Job</option>
        </select>
        <select name="category">
                <option value="">Category</option>
            {% for category in categories %}
                <option value="{{ category.field }}">{{ category.field }}</option>
            {% endfor %}
        </select>
        <input type="number" name="min_pay" placeholder="Minimum Pay">
        <input type="number" name="max_pay" placeholder="Maximum Pay">
        <input type="date" name="due_date" placeholder="Due Date">
        <select name="sort">
            <option value="">Sort by</option>
            <option value="pay_asc">Salary (Low to High)</option>
            <option value="pay_desc">Salary (High to Low)</option>
            <option value="due_date_asc">Due Date (Earliest First)</option>
            <option value="due_date_desc">Due Date (Latest First)</option>
        </select>
        <input type="submit" value="Filter">
    </form>
</div>

{#    <a href="{% url 'applicant:listing_detail' lid=1 %}" >#}
{#        <h2>#}
{#            Company<br>#}
{#            Job title#}
{#        </h2>#}
{#        <h3>#}
{#            Location and type of job<br>#}
{#            Salary#}
{#        </h3>#}
{#    </a>#}

    <div class="listings_container">
        {% if all_listings %}

            {% for listing in all_listings %}
                <div class="listing_box">
                    <a class="listing" href="{% url 'applicant:listing_detail' lid=listing.id %}" >

                        <h2 class="listing_text">Job Title: {{ listing.job_title }}</h2>
                        {# Until logo works #}
                        <h4 class="listing_text">Company: {{ listing.company }}</h4>
                        <h4 class="listing_text">Category: {{ listing.category }}</h4>
                        <h4 class="listing_text">Type: {{ listing.employment_type }}</h4>
                        <h4 class="listing_text">Salary: {{ listing.salary_low }}-{{ listing.salary_high }}</h4>
                        <h4 class="listing_text">Due Date: {{ listing.due_date }}</h4>

                    </a>
                </div>
            {% endfor %}

            {% else %}
                <h1> NO DATA </h1>

        {% endif %}
    </div>

{% endblock %}